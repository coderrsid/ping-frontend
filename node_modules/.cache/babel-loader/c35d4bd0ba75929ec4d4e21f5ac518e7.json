{"ast":null,"code":"var _jsxFileName = \"/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Account.js\";\nimport React, { Component } from 'react';\nimport { updateProfile } from './UserFunctions';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Card, CardActions, CardContent, Divider, Button, Grid, TextField } from '@material-ui/core';\nimport withMyHook from './withMyHook';\nimport clsx from 'clsx';\nimport jwt_decode from 'jwt-decode';\n\nconst styles = theme => ({\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  toolbar: theme.mixins.toolbar,\n  root: {},\n  details: {\n    display: 'flex'\n  },\n  avatar: {\n    height: 110,\n    width: 100,\n    flexShrink: 0,\n    flexGrow: 0\n  },\n  locationText: {\n    paddingLeft: '15px'\n  },\n  buttonProperty: {\n    position: 'absolute',\n    top: '50%'\n  },\n  uiProgess: {\n    position: 'fixed',\n    zIndex: '1000',\n    height: '31px',\n    width: '31px',\n    left: '50%',\n    top: '35%'\n  },\n  progess: {\n    position: 'absolute'\n  },\n  uploadButton: {\n    marginLeft: '8px',\n    margin: theme.spacing(1)\n  },\n  customError: {\n    color: 'red',\n    fontSize: '0.8rem',\n    marginTop: 10\n  },\n  submitButton: {\n    marginTop: '10px'\n  }\n});\n\nclass Account extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.updateFormValues = () => {\n      this.setState({\n        buttonLoading: true\n      });\n      const user = {\n        id: this.state.id,\n        firstName: this.state.firstName,\n        lastName: this.state.lastName\n      };\n      updateProfile(user).then(this.setState({\n        buttonLoading: false\n      }));\n    };\n\n    this.handlePushNotification = () => {\n      this.props.onClickUserPermission();\n    };\n\n    this.state = {\n      id: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      subscription: '',\n      uiLoading: true\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n    this.setState({\n      id: decoded.identity.id,\n      firstName: decoded.identity.first_name,\n      lastName: decoded.identity.last_name,\n      email: decoded.identity.email,\n      uiLoading: false,\n      buttonLoading: false\n    });\n    if (decoded.identity.subscription) this.setState({\n      subscription: true\n    });\n  }\n\n  render() {\n    const {\n      classes,\n      ...rest\n    } = this.props;\n\n    if (this.state.uiLoading === true) {\n      return /*#__PURE__*/React.createElement(\"main\", {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toolbar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 6\n        }\n      }), this.state.uiLoading && /*#__PURE__*/React.createElement(CircularProgress, {\n        size: 150,\n        className: classes.uiProgess,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 31\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"main\", {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toolbar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(Card, Object.assign({}, rest, {\n        className: clsx(classes.root, classes),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(CardContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.details,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.locationText,\n        gutterBottom: true,\n        variant: \"h4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 10\n        }\n      }, \"Account Details\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.progress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 7\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(Card, Object.assign({}, rest, {\n        className: clsx(classes.root, classes),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"form\", {\n        autoComplete: \"off\",\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(CardContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        fullWidth: true,\n        label: \"First name\",\n        margin: \"dense\",\n        name: \"firstName\",\n        variant: \"outlined\",\n        value: this.state.firstName,\n        onChange: e => this.handleChange(e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Last name\",\n        margin: \"dense\",\n        name: \"lastName\",\n        variant: \"outlined\",\n        value: this.state.lastName,\n        onChange: e => this.handleChange(e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Email\",\n        margin: \"dense\",\n        name: \"email\",\n        variant: \"outlined\",\n        disabled: true,\n        value: this.state.email,\n        onChange: e => this.handleChange(e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        disabled: this.state.subscription,\n        onClick: this.handlePushNotification,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 10\n        }\n      }, \"Enable Push Notifications\")))), /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(CardActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 8\n        }\n      }))), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        variant: \"contained\",\n        type: \"submit\",\n        className: classes.submitButton,\n        onClick: this.updateFormValues,\n        disabled: !this.state.firstName || !this.state.lastName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 6\n        }\n      }, \"Save details\"));\n    }\n  }\n\n}\n\nexport default withMyHook(withStyles(styles)(Account));","map":{"version":3,"sources":["/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Account.js"],"names":["React","Component","updateProfile","withStyles","Typography","CircularProgress","Card","CardActions","CardContent","Divider","Button","Grid","TextField","withMyHook","clsx","jwt_decode","styles","theme","content","flexGrow","padding","spacing","toolbar","mixins","root","details","display","avatar","height","width","flexShrink","locationText","paddingLeft","buttonProperty","position","top","uiProgess","zIndex","left","progess","uploadButton","marginLeft","margin","customError","color","fontSize","marginTop","submitButton","Account","constructor","props","handleChange","event","setState","target","name","value","updateFormValues","buttonLoading","user","id","state","firstName","lastName","then","handlePushNotification","onClickUserPermission","email","subscription","uiLoading","componentDidMount","token","localStorage","usertoken","decoded","identity","first_name","last_name","render","classes","rest","progress","e","submit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {updateProfile} from './UserFunctions';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Card, CardActions, CardContent, Divider, Button, Grid, TextField } from '@material-ui/core';\nimport withMyHook from './withMyHook';\nimport clsx from 'clsx';\nimport jwt_decode from 'jwt-decode'\n\nconst styles = (theme) => ({\n\tcontent: {\n\t\tflexGrow: 1,\n\t\tpadding: theme.spacing(3)\n\t},\n\ttoolbar: theme.mixins.toolbar,\n\troot: {},\n\tdetails: {\n\t\tdisplay: 'flex'\n\t},\n\tavatar: {\n\t\theight: 110,\n\t\twidth: 100,\n\t\tflexShrink: 0,\n\t\tflexGrow: 0\n\t},\n\tlocationText: {\n\t\tpaddingLeft: '15px'\n\t},\n\tbuttonProperty: {\n\t\tposition: 'absolute',\n\t\ttop: '50%'\n\t},\n\tuiProgess: {\n\t\tposition: 'fixed',\n\t\tzIndex: '1000',\n\t\theight: '31px',\n\t\twidth: '31px',\n\t\tleft: '50%',\n\t\ttop: '35%'\n\t},\n\tprogess: {\n\t\tposition: 'absolute'\n\t},\n\tuploadButton: {\n\t\tmarginLeft: '8px',\n\t\tmargin: theme.spacing(1)\n\t},\n\tcustomError: {\n\t\tcolor: 'red',\n\t\tfontSize: '0.8rem',\n\t\tmarginTop: 10\n\t},\n\tsubmitButton: {\n\t\tmarginTop: '10px'\n\t}\n});\n\nclass Account extends Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: '',\n\t\t\tfirstName: '',\n\t\t\tlastName: '',\n\t\t\temail: '',\n\t\t\tsubscription: '',\n\t\t\tuiLoading: true,\n\t\t};\n\t}\n\t\n\tcomponentDidMount () {\n        const token = localStorage.usertoken;\n        const decoded = jwt_decode(token);\n        this.setState({\n\t\t\tid: decoded.identity.id,\n\t\t\tfirstName: decoded.identity.first_name, \n\t\t\tlastName: decoded.identity.last_name, \n\t\t\temail: decoded.identity.email,\n\t\t\tuiLoading: false,\n\t\t\tbuttonLoading: false,\n\t\t});\n\t\tif(decoded.identity.subscription)\n\t\t\tthis.setState({subscription: true});\n    }\n\n    handleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t});\n\t};\n\n\tupdateFormValues = () => {\n\t\tthis.setState({buttonLoading: true});\n\t\t\n\t\tconst user = {\n\t\t\tid: this.state.id,\n\t\t\tfirstName: this.state.firstName,\n      \t\tlastName: this.state.lastName\n\t\t};\n\n\t\tupdateProfile(user)\n\t\t\t.then(\n\t\t\t\tthis.setState({buttonLoading: false})\n\t\t\t);\n\t}\n\n\thandlePushNotification = () => {\n\t\tthis.props.onClickUserPermission();\n\t}\n    \n    render() {\n\t\tconst { classes, ...rest } = this.props;\n\t\tif (this.state.uiLoading === true) {\n\t\t\treturn (\n\t\t\t\t<main className={classes.content}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t{this.state.uiLoading && <CircularProgress size={150} className={classes.uiProgess} />}\n\t\t\t\t</main>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<main className={classes.content}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t<Card {...rest} className={clsx(classes.root, classes)}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<div className={classes.details}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography className={classes.locationText} gutterBottom variant=\"h4\">\n\t\t\t\t\t\t\t\t\t\tAccount Details\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={classes.progress} />\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t<Card {...rest} className={clsx(classes.root, classes)}>\n\t\t\t\t\t\t<form autoComplete=\"off\" noValidate>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t\t\t\t<Grid item md={6} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"First name\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.firstName}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item md={6} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Last name\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.lastName}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item md={6} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item md={6} xs={12}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t\t\t\tdisabled={this.state.subscription}\n\t\t\t\t\t\t\t\t\t\tonClick={this.handlePushNotification}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tEnable Push Notifications\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<CardActions />\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Card>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName={classes.submitButton}\n\t\t\t\t\t\tonClick={this.updateFormValues}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t!this.state.firstName ||\n\t\t\t\t\t\t\t!this.state.lastName\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tSave details\n\t\t\t\t\t</Button>\n\t\t\t\t</main>\n\t\t\t);\n\t\t}\n    }\n}\n\n\nexport default withMyHook(withStyles(styles)(Account));"]},"metadata":{},"sourceType":"module"}