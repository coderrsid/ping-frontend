{"ast":null,"code":"var _jsxFileName = \"/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { login } from './UserFunctions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  customError: {\n    color: 'red',\n    fontSize: '0.8rem',\n    marginTop: 10\n  },\n  progess: {\n    position: 'absolute'\n  }\n});\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      password: '',\n      errors: {},\n      loading: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI) if (\"errors\" in nextProps.UI) if (nextProps.UI.errors) this.setState({\n      errors: nextProps.UI.errors\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const user = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    if (/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(user.email)) {\n      this.setState({\n        errors: {\n          email: true\n        }\n      });\n    }\n\n    login(user).then(res => {\n      if (!res.error) {\n        this.props.history.push(`/`);\n      } else {\n        alert(res.error);\n      }\n    });\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      errors,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      autoComplete: \"email\",\n      autoFocus: true,\n      helperText: errors.email,\n      error: errors.email ? true : false,\n      value: this.state.email || \"\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      helperText: errors.password,\n      error: errors.password ? true : false,\n      value: this.state.password || \"\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      onClick: this.onSubmit,\n      disabled: loading || !this.state.email || !this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, \"Sign In\", loading && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 30,\n      className: classes.progess,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: \"register\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, \"Don't have an account? Sign Up\"))), errors.general && /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      className: classes.customError,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, errors.general))));\n  }\n\n}\n\nexport default withStyles(styles)(Login);","map":{"version":3,"sources":["/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Login.js"],"names":["React","Component","login","Avatar","Button","CssBaseline","TextField","Link","Grid","LockOutlinedIcon","Typography","withStyles","Container","CircularProgress","styles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","customError","color","fontSize","progess","position","Login","constructor","state","email","password","errors","loading","onChange","bind","onSubmit","componentWillReceiveProps","nextProps","UI","setState","e","target","name","value","preventDefault","user","test","then","res","error","props","history","push","alert","render","classes","general"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { login } from './UserFunctions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nconst styles = (theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center'\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%',\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t},\n\tcustomError: {\n\t\tcolor: 'red',\n\t\tfontSize: '0.8rem',\n\t\tmarginTop: 10\n\t},\n\tprogess: {\n\t\tposition: 'absolute'\n\t}\n});\n\n\nclass Login extends Component {\n  constructor() {\n    super()\n    this.state = {\n      email: '',\n      password: '',\n      errors: {},\n      loading: false,\n    }\n\n    this.onChange = this.onChange.bind(this)\n    this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.UI)\n\t\t  if(\"errors\" in nextProps.UI)\n\t\t\t  if (nextProps.UI.errors) \n\t\t\t  this.setState({\n\t\t\t\t  errors: nextProps.UI.errors\n\t\t  \t});\n\n\t}\n\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  onSubmit(e) {\n    e.preventDefault()\n\n    const user = {\n      email: this.state.email,\n      password: this.state.password\n    }\n\n    if (/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(user.email)) {\n      this.setState({errors:{ email : true}})\n    }\n\n    login(user).then(res => {\n      if (!res.error) {\n        this.props.history.push(`/`)\n      }\n      else {\n        alert(res.error);\n      }\n    })\n  }\n\n  render() {\n    const { classes } = this.props;\n\t\tconst { errors, loading } = this.state;\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Login\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            helperText={errors.email}\n            error={errors.email ? true : false}\n            value={this.state.email || \"\"}\n            onChange={this.onChange}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            helperText={errors.password}\n            error={errors.password ? true : false}\n            value={this.state.password || \"\"}\n            onChange={this.onChange}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={this.onSubmit}\n            disabled={loading || !this.state.email || !this.state.password}\n          >\n            Sign In\n            {loading && <CircularProgress size={30} className={classes.progess} />}\n          </Button>\n          <Grid container>\n            <Grid item>\n              <Link href=\"register\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n          {errors.general && (\n            <Typography variant=\"body2\" className={classes.customError}>\n              {errors.general}\n            </Typography>\n          )}\n        </form>\n      </div>\n    </Container>\n    )\n  }\n}\n\nexport default withStyles(styles)(Login);\n"]},"metadata":{},"sourceType":"module"}