{"ast":null,"code":"var _jsxFileName = \"/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Todo.js\";\nimport React, { Component } from 'react';\nimport { getList, addToList, deleteItem, updateItem } from './UserFunctions';\nimport jwt_decode from 'jwt-decode';\nimport moment from 'moment';\nimport SignaturePad from 'react-signature-canvas';\nimport Grow from '@material-ui/core/Fade';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nconst styles = theme => ({\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  },\n  submitButton: {\n    display: 'block',\n    color: 'white',\n    textAlign: 'center',\n    position: 'absolute',\n    top: 14,\n    right: 10\n  },\n  floatingButton: {\n    position: 'fixed',\n    bottom: 0,\n    right: 0\n  },\n  form: {\n    width: '98%',\n    marginLeft: 13,\n    marginTop: theme.spacing(3)\n  },\n  toolbar: theme.mixins.toolbar,\n  root: {\n    minWidth: 380,\n    maxWidth: 500\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  pos: {\n    marginBottom: 12\n  },\n  uiProgess: {\n    position: 'fixed',\n    zIndex: '1000',\n    height: '31px',\n    width: '31px',\n    left: '50%',\n    top: '35%'\n  },\n  dialogeStyle: {\n    maxWidth: '50%'\n  },\n  viewRoot: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  },\n  sigContainer: {\n    width: '100%',\n    height: '40vh',\n    margin: '0 auto',\n    backgroundColor: '#fff',\n    border: '1px solid black'\n  },\n  sigImage: {\n    backgroundSize: \"200px 50px\",\n    width: \"200px\",\n    height: \"50px\",\n    backgroundColor: \"white\"\n  }\n});\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }));\n});\n\nclass Todo extends Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      if (e.target.name === \"reminder\") {\n        let reg = new RegExp('T');\n        e.target.value = e.target.value.replace(reg, ' ');\n        console.log(e.target.value);\n      }\n\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.getAll = () => {\n      this.setState({\n        uiLoading: true\n      });\n      getList(this.state.userid).then(data => {\n        console.log(data);\n        this.setState({\n          id: '',\n          title: '',\n          reminder: '',\n          open: '',\n          buttonType: '',\n          items: [...data],\n          uiLoading: false,\n          canvasDataURL: null,\n          showSigPad: false\n        });\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        editDisabled: ''\n      });\n      addToList(this.state.userid, this.state.title, this.state.reminder, this.state.canvasDataURL).then(() => {\n        this.getAll();\n      });\n      this.handleClose();\n    };\n\n    this.onUpdate = e => {\n      console.log('update called');\n      e.preventDefault();\n      updateItem(this.state.title, this.state.reminder, this.state.canvasDataURL, this.state.userid, this.state.id).then(() => {\n        this.getAll();\n      });\n      this.handleClose();\n    };\n\n    this.onDelete = val => {\n      console.log('delete called');\n      deleteItem(val, this.state.userid);\n      var data = [...this.state.items];\n      data.filter((item, index) => {\n        if (item[1] === val && item) {\n          data.splice(index, 1);\n        }\n\n        return true;\n      });\n      this.setState({\n        items: [...data]\n      });\n    };\n\n    this.handleClose = event => {\n      this.setState({\n        open: false\n      });\n    };\n\n    this.handleEditClickOpen = data => {\n      this.setState({\n        id: data[0],\n        title: data[1],\n        reminder: data[2],\n        canvasDataURL: data[3],\n        buttonType: 'Edit',\n        open: true\n      });\n    };\n\n    this.handleClickOpen = () => {\n      this.setState({\n        id: '',\n        title: '',\n        canvasDataURL: '',\n        buttonType: '',\n        open: true\n      });\n    };\n\n    this.handleSignPad = e => {\n      if (e === \"remove\") {\n        this.setState({\n          canvasDataURL: ''\n        });\n      } else {\n        let show = this.state.showSigPad;\n        this.setState({\n          showSigPad: !show\n        });\n      }\n    };\n\n    this.clear = () => {\n      this.sigPad.clear();\n    };\n\n    this.trim = () => {\n      this.setState({\n        canvasDataURL: this.sigPad.getTrimmedCanvas().toDataURL('image/png')\n      });\n    };\n\n    this.state = {\n      id: '',\n      title: '',\n      reminder: '',\n      userid: null,\n      open: '',\n      buttonType: '',\n      items: [],\n      errors: [],\n      uiLoading: true,\n      canvasDataURL: null,\n      showSigPad: false\n    };\n    this.sigPad = React.createRef();\n  }\n\n  componentDidMount() {\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n    getList(decoded.identity.id).then(data => {\n      this.setState({\n        title: '',\n        reminder: '',\n        items: [...data]\n      });\n    });\n    this.setState({\n      userid: decoded.identity.id,\n      uiLoading: false\n    });\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      open,\n      errors\n    } = this.state;\n\n    if (this.state.uiLoading === true) {\n      return /*#__PURE__*/React.createElement(\"main\", {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toolbar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 6\n        }\n      }), this.state.uiLoading && /*#__PURE__*/React.createElement(CircularProgress, {\n        size: 150,\n        className: classes.uiProgess,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 31\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"main\", {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toolbar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(IconButton, {\n        className: classes.floatingButton,\n        color: \"primary\",\n        \"aria-label\": \"Add Reminder\",\n        onClick: this.handleClickOpen,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(AddCircleIcon, {\n        style: {\n          fontSize: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 7\n        }\n      })), /*#__PURE__*/React.createElement(Dialog, {\n        fullScreen: true,\n        open: open,\n        onClose: this.handleClose,\n        TransitionComponent: Transition,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        className: classes.appBar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        edge: \"start\",\n        color: \"inherit\",\n        onClick: this.handleClose,\n        \"aria-label\": \"close\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        className: classes.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 9\n        }\n      }, this.state.buttonType === 'Edit' ? 'Edit Reminder' : 'Create a new Reminder'), /*#__PURE__*/React.createElement(Button, {\n        color: \"inherit\",\n        onClick: e => this.state.buttonType === 'Edit' ? this.onUpdate(e) : this.onSubmit(e),\n        className: classes.submitButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 9\n        }\n      }, this.state.buttonType === 'Edit' ? 'Save' : 'Submit'))), /*#__PURE__*/React.createElement(\"form\", {\n        className: classes.form,\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        autofocus: true,\n        variant: \"outlined\",\n        required: true,\n        fullWidth: true,\n        id: \"reminderTitle\",\n        label: \"Reminder Title\",\n        name: \"title\",\n        autoComplete: \"reminderTitle\",\n        helperText: errors.title,\n        value: this.state.title,\n        error: errors.title ? true : false,\n        onChange: this.onChange.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 20,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: \"datetime-local\",\n        label: \"Next appointment\",\n        type: \"datetime-local\",\n        name: \"reminder\",\n        className: classes.textField,\n        value: this.state.reminder,\n        helperText: errors.reminder,\n        error: errors.reminder ? true : false,\n        onChange: this.onChange.bind(this),\n        InputLabelProps: {\n          shrink: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 33\n        }\n      }, this.state.showSigPad ? /*#__PURE__*/React.createElement(Grow, {\n        in: this.state.showSigPad,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'inline-block',\n          border: '0.8px solid black',\n          padding: '10px 10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(SignaturePad, {\n        canvasProps: {\n          height: '300',\n          width: '600'\n        },\n        ref: ref => {\n          this.sigPad = ref;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        onClick: this.clear,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 49\n        }\n      }, \"Clear\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        onClick: this.trim,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 49\n        }\n      }, \"Save\")))) : !this.state.canvasDataURL ? /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        onClick: () => this.handleSignPad(\"add\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 45\n        }\n      }, \"Add Canvas\") : /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        onClick: () => this.handleSignPad(\"remove\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 45\n        }\n      }, \"Remove Canvas\"))))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 6\n        }\n      }, this.state.items ? this.state.items.map(item => /*#__PURE__*/React.createElement(Grid, {\n        key: item[0],\n        item: true,\n        xs: 12,\n        sm: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.root,\n        variant: \"outlined\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 10\n        }\n      }, item[3] ? /*#__PURE__*/React.createElement(CardMedia, {\n        className: classes.sigImage,\n        image: item[3],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 52\n        }\n      }) : null, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h5\",\n        component: \"h2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }\n      }, item[1]), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.pos,\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }\n      }, item[2] ? moment(new Date(item[2])).fromNow() : \"No reminder\")), /*#__PURE__*/React.createElement(CardActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        color: \"primary\",\n        onClick: e => this.handleEditClickOpen(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        color: \"primary\",\n        onClick: e => this.onDelete(item[0]),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }\n      }, \"Delete\"))))) : /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 30\n        }\n      }, \"No reminders!\")));\n    }\n  }\n\n}\n\nexport default withStyles(styles)(Todo);","map":{"version":3,"sources":["/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Todo.js"],"names":["React","Component","getList","addToList","deleteItem","updateItem","jwt_decode","moment","SignaturePad","Grow","withStyles","Typography","Button","Dialog","AddCircleIcon","AppBar","Toolbar","IconButton","CloseIcon","Slide","TextField","Grid","Card","CardActions","CircularProgress","CardContent","CardMedia","styles","theme","content","flexGrow","padding","spacing","appBar","position","title","marginLeft","flex","submitButton","display","color","textAlign","top","right","floatingButton","bottom","form","width","marginTop","toolbar","mixins","root","minWidth","maxWidth","bullet","margin","transform","pos","marginBottom","uiProgess","zIndex","height","left","dialogeStyle","viewRoot","closeButton","palette","grey","sigContainer","backgroundColor","border","sigImage","backgroundSize","Transition","forwardRef","props","ref","Todo","constructor","onChange","e","target","name","reg","RegExp","value","replace","console","log","setState","getAll","uiLoading","state","userid","then","data","id","reminder","open","buttonType","items","canvasDataURL","showSigPad","onSubmit","preventDefault","editDisabled","handleClose","onUpdate","onDelete","val","filter","item","index","splice","event","handleEditClickOpen","handleClickOpen","handleSignPad","show","clear","sigPad","trim","getTrimmedCanvas","toDataURL","errors","createRef","componentDidMount","token","localStorage","usertoken","decoded","identity","render","classes","fontSize","bind","textField","shrink","submit","map","Date","fromNow"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getList, addToList, deleteItem, updateItem } from './UserFunctions';\nimport jwt_decode from 'jwt-decode'\nimport moment from 'moment';\nimport SignaturePad from 'react-signature-canvas';\n\nimport Grow from '@material-ui/core/Fade';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nconst styles = (theme) => ({\n\tcontent: {\n\t\tflexGrow: 1,\n\t\tpadding: theme.spacing(3)\n\t},\n\tappBar: {\n\t\tposition: 'relative'\n\t},\n\ttitle: {\n\t\tmarginLeft: theme.spacing(2),\n\t\tflex: 1\n\t},\n\tsubmitButton: {\n\t\tdisplay: 'block',\n\t\tcolor: 'white',\n\t\ttextAlign: 'center',\n\t\tposition: 'absolute',\n\t\ttop: 14,\n\t\tright: 10\n\t},\n\tfloatingButton: {\n\t\tposition: 'fixed',\n\t\tbottom: 0,\n\t\tright: 0\n\t},\n\tform: {\n\t\twidth: '98%',\n\t\tmarginLeft: 13,\n\t\tmarginTop: theme.spacing(3)\n\t},\n\ttoolbar: theme.mixins.toolbar,\n\troot: {\n        minWidth: 380,\n        maxWidth: 500,\n\t},\n\tbullet: {\n\t\tdisplay: 'inline-block',\n\t\tmargin: '0 2px',\n\t\ttransform: 'scale(0.8)'\n\t},\n\tpos: {\n\t\tmarginBottom: 12\n\t},\n\tuiProgess: {\n\t\tposition: 'fixed',\n\t\tzIndex: '1000',\n\t\theight: '31px',\n\t\twidth: '31px',\n\t\tleft: '50%',\n\t\ttop: '35%'\n\t},\n\tdialogeStyle: {\n\t\tmaxWidth: '50%'\n\t},\n\tviewRoot: {\n\t\tmargin: 0,\n\t\tpadding: theme.spacing(2)\n\t},\n\tcloseButton: {\n\t\tposition: 'absolute',\n\t\tright: theme.spacing(1),\n\t\ttop: theme.spacing(1),\n\t\tcolor: theme.palette.grey[500]\n    },\n    sigContainer: {\n        width: '100%',\n        height: '40vh',\n        margin: '0 auto',\n        backgroundColor: '#fff',\n        border: '1px solid black'\n    },\n    sigImage: {\n        backgroundSize: \"200px 50px\",\n        width: \"200px\",\n        height: \"50px\",\n        backgroundColor: \"white\"\n      }\n      \n});\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nclass Todo extends Component {\n    constructor() {\n        super()\n        this.state = {\n            id: '',\n            title: '',\n            reminder: '',\n            userid: null,\n            open: '',\n            buttonType: '',\n            items: [],\n            errors: [],\n            uiLoading: true,\n            canvasDataURL: null,\n            showSigPad: false\n        }\n\n        this.sigPad = React.createRef();\n    }\n\n    componentDidMount () {\n        const token = localStorage.usertoken;\n        const decoded = jwt_decode(token);\n        getList(decoded.identity.id).then(data => {\n            this.setState({\n                title: '',\n                reminder: '',\n                items: [...data]\n            });\n        })\n        this.setState({userid: decoded.identity.id, uiLoading: false});\n    }\n\n    onChange = e => {\n        if(e.target.name === \"reminder\") {\n            let reg = new RegExp('T');\n            e.target.value = e.target.value.replace(reg, ' ');\n            console.log(e.target.value);\n        }\n        this.setState({\n            [e.target.name] : e.target.value,\n        })\n    }\n\n    getAll = () => {\n        this.setState({uiLoading: true});\n        getList(this.state.userid).then(data => {\n            console.log(data);\n            this.setState({\n                id: '',\n                title: '',\n                reminder: '',\n                open: '',\n                buttonType: '',\n                items: [...data],\n                uiLoading: false,\n                canvasDataURL: null,\n                showSigPad: false\n            });\n        })\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n        this.setState({ editDisabled: '' })\n        addToList(this.state.userid ,this.state.title, this.state.reminder, this.state.canvasDataURL).then(() => {\n            this.getAll()\n        })\n        this.handleClose();\n    }\n\n    onUpdate = e => {\n        console.log('update called');\n        e.preventDefault();\n        updateItem(this.state.title, this.state.reminder, this.state.canvasDataURL, this.state.userid, this.state.id).then(() => {\n            this.getAll()\n        })\n        this.handleClose();\n    }\n\n    onDelete = (val) => {\n        console.log('delete called');\n        deleteItem(val, this.state.userid)\n\n        var data = [...this.state.items]\n        data.filter((item, index) => {\n            if (item[1] === val && item) {\n                data.splice(index, 1)\n            }\n            return true\n        })\n        this.setState({ items: [...data] })\n    }\n\n    handleClose = (event) => {\n        this.setState({ open: false });\n    };\n\n    handleEditClickOpen = (data) => {\n\t\tthis.setState({\n            id: data[0],\n            title: data[1],\n            reminder: data[2],\n            canvasDataURL: data[3],\n\t\t\tbuttonType: 'Edit',\n\t\t\topen: true\n        });\n\t}\n\n    handleClickOpen = () => {\n        this.setState({\n            id: '',\n            title: '',\n            canvasDataURL: '',\n            buttonType: '',\n            open: true\n        });\n    };\n\n    handleSignPad = (e) => {\n        if(e === \"remove\"){\n            this.setState({canvasDataURL: ''});\n        } else {\n            let show = this.state.showSigPad;\n            this.setState({showSigPad: !show});\n        }\n    }\n\n    clear = () => {\n        this.sigPad.clear()\n    }\n\n    trim = () => {\n        this.setState({canvasDataURL: this.sigPad.getTrimmedCanvas()\n            .toDataURL('image/png')})\n    }\n\n    render () {\n    \tconst { classes } = this.props;\n        const { open, errors } = this.state;\n\n        if (this.state.uiLoading === true) {\n\t\t\treturn (\n\t\t\t\t<main className={classes.content}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t{this.state.uiLoading && <CircularProgress size={150} className={classes.uiProgess} />}\n\t\t\t\t</main>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<main className={classes.content}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tclassName={classes.floatingButton}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\taria-label=\"Add Reminder\"\n\t\t\t\t\t\tonClick={this.handleClickOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<AddCircleIcon style={{ fontSize: 60 }} />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Dialog fullScreen open={open} onClose={this.handleClose} TransitionComponent={Transition}>\n\t\t\t\t\t\t<AppBar className={classes.appBar}>\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<IconButton edge=\"start\" color=\"inherit\" onClick={this.handleClose} aria-label=\"close\">\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t\t{this.state.buttonType === 'Edit' ? 'Edit Reminder' : 'Create a new Reminder'}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.state.buttonType === 'Edit' ? this.onUpdate(e) : this.onSubmit(e)}\n\t\t\t\t\t\t\t\t\tclassName={classes.submitButton}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.buttonType === 'Edit' ? 'Save' : 'Submit'}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t</AppBar>\n\n\t\t\t\t\t\t<form className={classes.form} noValidate>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n                                        autofocus\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"reminderTitle\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Reminder Title\"\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"reminderTitle\"\n\t\t\t\t\t\t\t\t\t\thelperText={errors.title}\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\t\t\t\t\terror={errors.title ? true : false}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange.bind(this)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={20}>\n                                    <TextField\n                                       id=\"datetime-local\"\n                                        label=\"Next appointment\"\n                                        type=\"datetime-local\"\n                                        name=\"reminder\"\n                                        className={classes.textField}\n                                        value={this.state.reminder}\n                                        helperText={errors.reminder}\n                                        error={errors.reminder ? true : false}\n                                        onChange={this.onChange.bind(this)}\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                    />\n\t\t\t\t\t\t\t\t</Grid>\n                                <br></br>\n                                <Grid item xs={12} >\n                                    {this.state.showSigPad ? \n                                    <Grow in={this.state.showSigPad}>\n                                        <div style={{display: 'inline-block', border: '0.8px solid black', padding:'10px 10px'}}>\n                                            <SignaturePad\n                                            canvasProps={{height:'300', width: '600', }}\n                                                ref={(ref) => { this.sigPad = ref }} />\n                                            <div>\n                                                <Button variant=\"outlined\" onClick={this.clear}>\n                                                Clear\n                                                </Button>\n                                                <Button variant=\"outlined\" onClick={this.trim}>\n                                                Save\n                                                </Button>\n                                            </div>\n                                        </div>\n                                    </Grow>    \n                                        :\n                                        (\n                                            !this.state.canvasDataURL ? \n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                className={classes.submit}\n                                                onClick={() => this.handleSignPad(\"add\")}\n                                                >\n                                                    Add Canvas\n                                            </Button> :\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                className={classes.submit}\n                                                onClick={() => this.handleSignPad(\"remove\")}\n                                            >\n                                                Remove Canvas\n                                            </Button>\n                                        )\n                                    }\n                                </Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Dialog>\n\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t{this.state.items ? this.state.items.map((item) => (\n\t\t\t\t\t\t\t<Grid key={item[0]} item xs={12} sm={6}>\n\t\t\t\t\t\t\t\t<Card className={classes.root} variant=\"outlined\">\n\t\t\t\t\t\t\t\t\t<CardContent>\n                                        {item[3] ? <CardMedia className={classes.sigImage} image={item[3]} /> : null}\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" component=\"h2\">\n\t\t\t\t\t\t\t\t\t\t\t{item[1]}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.pos} color=\"textSecondary\">\n                                            {item[2] ? moment (new Date(item[2])).fromNow() : \"No reminder\"}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n                                        \n\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={(e) => this.handleEditClickOpen(item)}>\n\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={(e) => this.onDelete(item[0])}>\n\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Grid>\n                        )) : <h1>No reminders!</h1>}\n                        \n\t\t\t\t\t</Grid>\n\t\t\t\t</main>\n\t\t\t);\n\t\t}\n    }\n}\n\nexport default withStyles(styles)(Todo)"]},"metadata":{},"sourceType":"module"}