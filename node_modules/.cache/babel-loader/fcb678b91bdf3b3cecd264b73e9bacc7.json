{"ast":null,"code":"var _jsxFileName = \"/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Register.js\";\nimport React, { Component } from 'react';\nimport { register } from './UserFunctions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  progess: {\n    position: 'absolute'\n  }\n});\n\nclass Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: '',\n      errors: {},\n      loading: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI) if (nextProps.UI.errors) this.setState({\n      errors: nextProps.UI.errors\n    });\n  }\n\n  onChange(e) {\n    if (e.target.name === \"email\") {\n      if (/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(e.target.value)) {\n        this.setState({\n          errors: {\n            email: true\n          }\n        });\n        console.log(\"email error\");\n      }\n    }\n\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newUser = {\n      first_name: this.state.first_name,\n      last_name: this.state.last_name,\n      email: this.state.email,\n      password: this.state.password\n    };\n    register(newUser).then(res => {\n      this.props.history.push(`/login`);\n    });\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      errors,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 6\n      }\n    }, \"Sign up\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"firstName\",\n      label: \"First Name\",\n      name: \"firstName\",\n      autoComplete: \"firstName\",\n      helperText: errors.firstName,\n      error: errors.firstName ? true : false,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"lastName\",\n      label: \"Last Name\",\n      name: \"lastName\",\n      autoComplete: \"lastName\",\n      helperText: errors.lastName,\n      error: errors.lastName ? true : false,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      autoComplete: \"email\",\n      helperText: errors.email,\n      error: errors.email ? true : false,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      helperText: errors.password,\n      error: errors.password ? true : false,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"confirmPassword\",\n      label: \"Confirm Password\",\n      type: \"password\",\n      id: \"confirmPassword\",\n      autoComplete: \"current-password\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      onClick: this.onSubmit,\n      disabled: !errors || loading || !this.state.email || !this.state.password || !this.state.firstName || !this.state.lastName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }\n    }, \"Sign Up\", loading && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 30,\n      className: classes.progess,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 20\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: \"login\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, \"Already have an account? Sign in\"))))));\n  }\n\n}\n\nexport default withStyles(styles)(Register);","map":{"version":3,"sources":["/Users/siddhantsehgal/Desktop/userlogin/client/src/components/Register.js"],"names":["React","Component","register","Avatar","Button","CssBaseline","TextField","Link","Grid","LockOutlinedIcon","Typography","Container","withStyles","CircularProgress","styles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","progess","position","Register","constructor","state","first_name","last_name","email","password","errors","loading","onChange","bind","onSubmit","componentWillReceiveProps","nextProps","UI","setState","e","target","name","test","value","console","log","preventDefault","newUser","then","res","props","history","push","render","classes","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { register } from './UserFunctions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = (theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center'\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(3)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t},\n\tprogess: {\n\t\tposition: 'absolute'\n\t}\n});\n\nclass Register extends Component {\n  constructor() {\n    super()\n    this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: '',\n      errors: {},\n      loading: false\n    }\n\n    this.onChange = this.onChange.bind(this)\n    this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  componentWillReceiveProps(nextProps) {\n\t  if(nextProps.UI)\n\t\tif (nextProps.UI.errors) \n\t\t\tthis.setState({\n\t\t\t\terrors: nextProps.UI.errors\n\t\t\t});\n\t}\n\n  onChange(e) {\n\tif(e.target.name === \"email\") {\n\t\tif (/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(e.target.value)) {\n\t\t\tthis.setState({errors : { email : true} })\n\t\t\tconsole.log(\"email error\");\n\t\t}\n\t}\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  onSubmit(e) {\n    e.preventDefault()\n\n    const newUser = {\n      first_name: this.state.first_name,\n      last_name: this.state.last_name,\n      email: this.state.email,\n      password: this.state.password\n\t}\n\n    register(newUser).then(res => {\n      this.props.history.push(`/login`)\n    })\n  }\n\n  render() {\n    const { classes } = this.props;\n\t\tconst { errors, loading } = this.state;\n\t\treturn (\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t<CssBaseline />\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tSign up\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form className={classes.form} noValidate>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\t\tlabel=\"First Name\"\n\t\t\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"firstName\"\n\t\t\t\t\t\t\t\t\thelperText={errors.firstName}\n\t\t\t\t\t\t\t\t\terror={errors.firstName ? true : false}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\t\tlabel=\"Last Name\"\n\t\t\t\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"lastName\"\n\t\t\t\t\t\t\t\t\thelperText={errors.lastName}\n\t\t\t\t\t\t\t\t\terror={errors.lastName ? true : false}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\thelperText={errors.email}\n\t\t\t\t\t\t\t\t\terror={errors.email ? true : false}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\thelperText={errors.password}\n\t\t\t\t\t\t\t\t\terror={errors.password ? true : false}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\tlabel=\"Confirm Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\tonClick={this.onSubmit}\n                            disabled={!errors || loading || \n                                !this.state.email || \n                                !this.state.password ||\n                                !this.state.firstName || \n                                !this.state.lastName\n                        \t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t{loading && <CircularProgress size={30} className={classes.progess} />}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Link href=\"login\" variant=\"body2\">\n\t\t\t\t\t\t\t\t\tAlready have an account? Sign in\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t);\n  }\n}\n\nexport default withStyles(styles)(Register);\n"]},"metadata":{},"sourceType":"module"}